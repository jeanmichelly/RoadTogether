{% extends "CVPlatformBundle::layout.html.twig" %}

{% block title %}
    Modifier une annonce - {{ parent() }}
{% endblock %}

{% block menu_lateral %}  
    {{ include("CVPlatformBundle:PublicMessage:menu.html.twig") }}  
{% endblock %}

{% block cvplatform_body %}
    <h2>Messages reçus</h2>

{% if listMessagesReceived|length == 0 %}
        <p>
        {% for message in app.session.flashbag.get('info') %}

        <p class="alert alert-info">{{ message }}</p> 
        {% endfor %}
    </p>

    {% else %}


    {% for messageReceived in listMessagesReceived %}
        <div class="well">
            <i>Message publié le {{ messageReceived.date|date('d/m/Y à H:i:s') }}</>
            <li>Utilisateur : {{ messageReceived.user }}</li>
            <li>Contenu : {{ messageReceived.content }}</li>

        	<p>
        		<a href="{{ path('cv_platform_reservation_ride', {'id': messageReceived.ride.id   }) }}" class="btn btn-default"><i class="glyphicon glyphicon-eye-open"></i>Voir l'annonce</a>
            </p>
        </div>
   	{% endfor %}

	<ul class="pagination">
	    {% for p in range(1, nbPages) %}
	       <li{% if p == page %} class="active"{% endif %}><a href="{{ path('cv_platform_messages_received', {'page': p}) }}">{{ p }}</a></li>
	    {% endfor %}
  	</ul>

  {% endif %}
{% endblock %}
