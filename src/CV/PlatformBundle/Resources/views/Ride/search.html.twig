{% extends "CVPlatformBundle::layout.html.twig" %}

{% block title %}
    Rechercher une annonce - {{ parent() }}
{% endblock %}

{% block menu_lateral %}  
    {{ include("CVPlatformBundle:Ride:menu.html.twig") }}  
{% endblock %}

{% block cvplatform_body %}
    {% stylesheets 'css/jquery.datetimepicker.css' %}
        <link rel="stylesheet" href="{{ asset_url }}" type="text/css" />
    {% endstylesheets %}

    <div class="well well-sm">
        {{ form_start(form, {'attr': {'class': 'form-horizontal'}}) }}
            {{ form_errors(form) }}
            <fieldset>
                <legend class="text-center">Recherche des annonces</legend>
                <div class="form-group">
                    {{ form_label(form.departure, "Lieu de départ", {'label_attr': {'class': 'col-md-3 control-label'}}) }}
                    <div class="col-md-9">{{ form_widget(form.departure, {'attr': {'class': 'form-control'}}) }}</div>
                <div class="col-md-3"></div>
               <div class="col-md-9"> {{ form_errors(form.departure) }}</div>
                </div>
                <div class="form-group">
                    {{ form_label(form.arrival, "Lieu d'arrivé", {'label_attr': {'class': 'col-md-3 control-label'}}) }}
                    <div class="col-md-9">{{ form_widget(form.arrival, {'attr': {'class': 'form-control'}}) }}</div>
            <div class="col-md-3"></div>
               <div class="col-md-9"> {{ form_errors(form.arrival) }}</div>
                </div>
                <div class="form-group">
                    {{ form_label(form.departureDate, "Date du départ", {'label_attr': {'class': 'col-md-3 control-label'}}) }}
                    {{ form_errors(form.departureDate) }}

                    <div class="col-md-9">{{ form_widget(form.departureDate, {'attr': {'class': 'form-control'}}) }}</div>
                </div>

                {{ form_widget(form.rechercher, {'attr': {'class': 'btn btn-primary'}}) }}
            </fieldset>
            {{ form_rest(form) }}
        {{ form_end(form) }}
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&libraries=places"></script>
    {% javascripts 
        'js/jquery.datetimepicker.js'
        'js/autocompletion_index.js' %}
        <script type="text/javascript" src="{{ asset_url }}"></script>
    {% endjavascripts %}

    <script>
        initialize('cv_platformbundle_ride_search_departure', 'cv_platformbundle_ride_search_arrival');
        $('#cv_platformbundle_ride_search_departureDate').datetimepicker({
            mask:'9999/19/39',
            format:'Y/m/d',    
            timepicker:false,
            formatDate:'Y/m/d',
            lang:'fr',
            minDate:new Date()
        });
    </script>
{% endblock %}
