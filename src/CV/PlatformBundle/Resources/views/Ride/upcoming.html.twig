{% extends "CVPlatformBundle::layout.html.twig" %}

{% block title %}
    Mes trajets à venir - {{ parent() }}
{% endblock %}

{% block menu_lateral %}  
    {{ include("CVPlatformBundle:Ride:menu.html.twig") }}  
{% endblock %}

{% block cvplatform_body %}
    <h2>Liste de mes trajets à venir</h2>

    <p>
        {% for message in app.session.flashbag.get('notice') %}

        <p class="alert alert-success">{{ message }}</p> 
        {% endfor %}
    </p>

{% if listUpcomingRides|length == 0 %}
        <p>
        {% for message in app.session.flashbag.get('info') %}

        <p class="alert alert-info">{{ message }}</p> 
        {% endfor %}
    </p>

    {% else %}

    {% for upcomingRide in listUpcomingRides %}
        <div class="well">
            <i>Annonce créé le {{ upcomingRide.offerPublished|date('d/m/Y à H:i:s') }}<i/>
            <li>Lieu de départ : {{ upcomingRide.departure }}</li>
            <li>Lieu d'arrivé : {{ upcomingRide.arrival }}</li>
            <li>Prix : {{ upcomingRide.price }}</li>

            <p>
                <a href="{{ path('cv_platform_view', {'id': upcomingRide.id   }) }}" class="btn btn-default"><i class="glyphicon glyphicon-eye-open"></i>Voir détails</a>
            </p>
        </div>
    {% endfor %}

    <ul class="pagination">
        {% for p in range(1, nbPages) %}
            <li{% if p == page %} class="active"{% endif %}><a href="{{ path('cv_platform_upcoming_rides', {'page': p}) }}">{{ p }}</a></li>
        {% endfor %}
    </ul>
    
  {% endif %}
{% endblock %}
