{% extends "CVPlatformBundle::layout.html.twig" %}

{% block title %}
    Profil | {{ parent() }}
{% endblock %}

{% block cvplatform_body %}
    <div class="container">
        <div class="col-md-3">
            {{ include("CVProfileBundle::menu.html.twig") }}
        </div>
        <div class="col-md-9">
            <p>
                {% for message in app.session.flashbag.get('notice') %}
                    <p class="alert alert-success">{{ message }}</p> 
                {% endfor %}
            </p>

            <h3 class="sub-title">Informations personnelles</h3>
            <hr>
            <div class="well well-sm well-profile">                                                                  
                {{ form_start(form, {'attr': {'class': 'form-horizontal'}}) }}
                    {{ form_errors(form) }}
                    <fieldset>
                        <div class="well">
                            {{ render(controller('CVProfileBundle:Profile:picture', {'thumb': 'my_picture_profile_medium', 'user': app.user})) }} 
                        </div>
                        
                        <div class="form-group">
                            {{ form_label(form.name, "Nom", {'label_attr': {'class': 'col-md-3 control-label'}}) }}
                            <div class="col-md-9">{{ form_widget(form.name, {'attr': {'class': 'form-control'}}) }}</div>
                            <div class="col-md-3"></div>
                            <div class="col-md-9"> {{ form_errors(form.name) }}</div>
                        </div>

                        <div class="form-group">
                            {{ form_label(form.firstName, "Prénom", {'label_attr': {'class': 'col-md-3 control-label'}}) }}
                            <div class="col-md-9">{{ form_widget(form.firstName, {'attr': {'class': 'form-control'}}) }}</div>
                            <div class="col-md-3"></div>
                            <div class="col-md-9"> {{ form_errors(form.firstName) }}</div>
                        </div>

                         <div class="form-group">
                            {{ form_label(form.age, "Âge", {'label_attr': {'class': 'col-md-3 control-label'}}) }}
                            <div class="col-md-9">{{ form_widget(form.age, {'attr': {'class': 'form-control'}}) }}</div>
                            <div class="col-md-3"></div>
                            <div class="col-md-9"> {{ form_errors(form.age) }}</div>
                        </div>

                        <div class="form-group">
                            {{ form_label(form.biography, "Biographie", {'label_attr': {'class': 'col-md-3 control-label'}}) }}
                            <div class="col-md-9">{{ form_widget(form.biography, {'attr': {'class': 'form-control'}}) }}</div>
                            <div class="col-md-3"></div>
                            <div class="col-md-9"> {{ form_errors(form.biography) }}</div>
                        </div>

                        <div class="form-group">
                            {{ form_label(form.phone, "Téléphone", {'label_attr': {'class': 'col-md-3 control-label'}}) }}
                            <div class="col-md-9">{{ form_widget(form.phone, {'attr': {'class': 'form-control'}}) }}</div>
                            <div class="col-md-3"></div>
                            <div class="col-md-9"> {{ form_errors(form.phone) }}</div>
                        </div>

                        <div class="form-group">
                            {{ form_label(form.birthday, "Date de naissance", {'label_attr': {'class': 'col-md-3 control-label'}}) }}

                            <div class="col-md-9">{{ form_widget(form.birthday) }}</div>
                            <div class="col-md-3"></div>
                            <div class="col-md-9"> {{ form_errors(form.birthday) }}</div>
                        </div>

                        <div class="form-group">
                            {{ form_label(form.image.file, "Photo", {'label_attr': {'class': 'col-md-3 control-label'}}) }}
                            <div class="col-md-9">{{ form_widget(form.image.file, {'attr': {'class': 'form-control'}}) }}</div>
                            <div class="col-md-3"></div>
                            <div class="col-md-9"> {{ form_errors(form.image.file) }}</div>
                        </div>
                        {{ form_widget(form.enregistrer, {'attr': {'class': 'cv-btn-primary'}}) }}
                    </fieldset>
                    {{ form_rest(form) }}
                {{ form_end(form) }}
            </div>
        </div>
    </div>
{% endblock %}
